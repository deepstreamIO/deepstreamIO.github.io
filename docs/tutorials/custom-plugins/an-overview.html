<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="DeepstreamIO RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="DeepstreamIO Atom Feed"><title data-react-helmet="true">Plugin Introduction | DeepstreamIO</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://deepstreamIO.github.io/docs/tutorials/custom-plugins/an-overview"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Plugin Introduction | DeepstreamIO"><meta data-react-helmet="true" name="description" content="What is a deepstream plugin and how can I make my own?"><meta data-react-helmet="true" property="og:description" content="What is a deepstream plugin and how can I make my own?"><link data-react-helmet="true" rel="icon" href="/img/eltons/elton-hive.svg"><link data-react-helmet="true" rel="canonical" href="https://deepstreamIO.github.io/docs/tutorials/custom-plugins/an-overview"><link data-react-helmet="true" rel="alternate" href="https://deepstreamIO.github.io/docs/tutorials/custom-plugins/an-overview" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://deepstreamIO.github.io/docs/tutorials/custom-plugins/an-overview" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.82963691.css">
<link rel="preload" href="/assets/js/runtime~main.4b67704a.js" as="script">
<link rel="preload" href="/assets/js/main.a9eddb7b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/eltons/elton-hive.svg" alt="DeepstreamIO" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/eltons/elton-hive.svg" alt="DeepstreamIO" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">DeepstreamIO</b></a><a class="navbar__item navbar__link" href="/docs/tutorials/concepts/what-is-deepstream">Tutorials</a><a class="navbar__item navbar__link" href="/docs/docs">Docs</a><a class="navbar__item navbar__link" href="/docs/guides">Guides</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deepstreamIO" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/tutorials/concepts/what-is-deepstream">tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/concepts/what-is-deepstream">concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/getting-started/javascript">getting-started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/install/linux">install</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/core/auth/auth-introduction">core</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/integrations/frontend/react">integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/plugins/logger/std">plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/docs/tutorials/custom-plugins/an-overview">custom-plugins</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorials/custom-plugins/an-overview">Plugin Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/custom-plugins/custom-plugin">Building your own custom plugin</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/devops/nginx">devops</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/docs/docs">docs</a><button aria-label="Toggle the collapsible sidebar category &#x27;docs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/docs/guides">guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Plugin Introduction</h1></header><p>Deepstream at is core is a collection of plugins, handlers and a protocol that interact with each to provide a powerful set of features that can power large realtime applications.</p><p>There are currently a total of 7 plugins that are required by deepstream to run, all of which have defaults built in. Before we dive into those, let&#x27;s first look at the core <code>PluginAPI</code>:</p><div class="codeBlockContainer_J+bg language-typescript theme-code-block"><div class="codeBlockContent_csEI typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">PluginOptionsConfig</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> all options go here </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">DeepstreamPlugin</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">constructor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pluginOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">PluginOptionsConfig</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> services</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">DeepstreamServices</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">DeepstreamConfig</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The name of plugin to be shown when loaded succesfully</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">abstract</span><span class="token plain"> description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// An async callback to indicate the plugin is ready to use,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// for example when setting up a connection to a database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">whenReady</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">void</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// An optional API that is called after whenReady. This helps</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// plugins remove logic from the constructor, which is sometimes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// a useful pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> init</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// An async call back that indicates when the connector has shutdown</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// succesfully</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">close</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">void</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Implementing this API is all that is needed for deepstream to register the plugin. Obviously
just having this code wouldn&#x27;t add any functionality! Deepstream offers a powerful set of interfaces
that allow developers to modify nearly every aspect of functionality or add your own. Let&#x27;s look at the
different types, and remember to take a deeper dive into each section to see an example implementation!</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="authentication">Authentication<a class="hash-link" href="#authentication" title="Direct link to heading">â€‹</a></h2><p>Authentication provides three pieces of functionality to deepstream:</p><ol><li>Validates whether a user is allowed to login</li><li>It returns serverData, which is sensitive information used by deepstream to aid permissioning</li><li>It returns clientData, which is data that is forwarded to the client on login</li></ol><p>To see a guide of an Authentication plugin that only allows users to login with a preconfigured
token please look <a href="https://github.com/deepstreamIO/deepstream.io-example-plugins/tree/master/src/auth" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="permissioning">Permissioning<a class="hash-link" href="#permissioning" title="Direct link to heading">â€‹</a></h2><p>Permissioning checks every single message that goes through the system to ensure the sender is
allowed to perform the operation. Deepstream offers a powerful permissioning language called Valve
that allows users to write rules that map against simplified representations. However, users can
generate their own permissioning logic, which can allow you to interact with third-party APIs or
implement smarter caching depending on your use case.</p><p>To see a guide of a Permission plugin that only allows users to interact with actions that have
their userId in the name please look <a href="https://github.com/deepstreamIO/deepstream.io-example-plugins/tree/master/src/permission" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="cache">Cache<a class="hash-link" href="#cache" title="Direct link to heading">â€‹</a></h2><p>The cache plugin provides a way for deepstream to optimally store, retrieve and delete data in a
simple (usually key/value) data store. Deepstream offers a few out of the box for most of the
popular techs, like Redis, Memcache, Hazelcast and in memory. However you can easily implement
your own by implementing it&#x27;s simple API.</p><p>The main performance benefit you always want to implement with cache layers is to seperate the version
and values so that retrieving thousands of records in one go is significantly faster!</p><p>To see a guide of a Cache plugin that stores data in memory please look <a href="https://github.com/deepstreamIO/deepstream.io-example-plugins/tree/master/src/cache" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="storage">Storage<a class="hash-link" href="#storage" title="Direct link to heading">â€‹</a></h2><p>The storage API is a subset of the Cache API. It&#x27;s used alot less frequent than the cache layer,
once for each write, but only once for a record thoughout the records entire lifetime!</p><p>To see a guide of a simple storage plugin that stores it&#x27;s data please look <a href="https://github.com/deepstreamIO/deepstream.io-example-plugins/tree/master/src/storage" target="_blank" rel="noopener noreferrer">here</a>.
Word of advice though, please don&#x27;t use this system in production unless your okay with insanely
slow speeds.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="logger">Logger<a class="hash-link" href="#logger" title="Direct link to heading">â€‹</a></h2><p>The Logger is responsible for getting important deepstream information out into the world for us
to be able to trace actions efficiently. Currently the default logger is that std out, as dealing
with logs is usually quite expensive and so is better to leave for seperate processes. However you can
easily integrate with multiple logging solutions and send your logs directly to your logging frameworks.</p><p>To see a guide of a simple log plugin that buffers debug logs in memory until an error occurs (helps debugging!)
please look <a href="https://github.com/deepstreamIO/deepstream.io-example-plugins/tree/master/src/logger" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="connection-endpoints">Connection Endpoints<a class="hash-link" href="#connection-endpoints" title="Direct link to heading">â€‹</a></h2><p>A connection endpoint is the deepstream nervous system. Without it you can&#x27;t get any messages back and forth between
it and the outside world. We provide three build in solutions, <a href="https://github.com/websockets/ws" target="_blank" rel="noopener noreferrer">ws</a>, <a href="https://github.com/uNetworking/uWebSockets.js/" target="_blank" rel="noopener noreferrer">uWebsockets.js</a> and HTTP via a standard called JIF.</p><p>However its super simple to build your own, which in turn will allow you to create your own crazy protocols. Check out the source code for inspiration.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="monitoring">Monitoring<a class="hash-link" href="#monitoring" title="Direct link to heading">â€‹</a></h2><p>Monitoring is a new API that allows users to track all high level actions that happen in deepstream and show it in a
pretty display using a system such as grafana.</p><p>To see an example monitoring plugin that exposes a HTTP server to allow users to query it&#x27;s currently state please
look <a href="https://github.com/deepstreamIO/deepstream.io-example-plugins/tree/master/src/monitoring" target="_blank" rel="noopener noreferrer">here</a></p><p>Using the monitoring plugin it&#x27;s straightforward to implement an audit log of every user message (event, record, rpc request and data) that goes through the server for compliance purposes.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="cluster-node">Cluster Node<a class="hash-link" href="#cluster-node" title="Direct link to heading">â€‹</a></h2><p>The almighty cluster node!. It&#x27;s responsible for allowing deepstream nodes to communicate with each other. The server comes with a no-cluster and vertical cluster options in order to use all CPU cores.</p><p>There&#x27;s no magic to this, purely just a <code>send</code>, <code>sendDirect</code> and <code>recieve</code> method.</p><p>To see an example clustering plugin that allows nodes to talk to each other using redis please look at the redis cluster node source code <a href="https://github.com/deepstreamIO/deepstream.io-clusternode-redis" target="_blank" rel="noopener noreferrer">here</a> or the vertical cluster source code <a href="https://github.com/deepstreamIO/deepstream.io/blob/master/src/services/cluster-node/vertical-cluster-node.ts" target="_blank" rel="noopener noreferrer">here</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="locks">Locks<a class="hash-link" href="#locks" title="Direct link to heading">â€‹</a></h2><p>Deepstream needs distributed locks for listening. The build in mechanism works fine, but if you want all state to live in an external system (like redis) you can build your own.</p><p>If anyone would like a guide on how to write your own please let us know!</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="cluster-registry">Cluster Registry<a class="hash-link" href="#cluster-registry" title="Direct link to heading">â€‹</a></h2><p>Deepstream needs a registry of all servers within the cluster in order to cleanup state effectively when a node
exits and to elect a leader to decisions that can&#x27;t be distributed, like who should be in charge of locks (when using the default plugin). This API is currently sync which makes it quite hard to be experimental with. Why? Because
sync is just way quicker than using async/await. Once that changes (or someone really wants an async API) we&#x27;ll demonstrate how to write one!</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="state-registry-factory">State Registry Factory<a class="hash-link" href="#state-registry-factory" title="Direct link to heading">â€‹</a></h2><p>The State Registry is what allows deepstream to be aware of the state of the entire cluster, useful in order to unify
presence, subscriptions and listening across multiple nodes. This API is currently sync which makes it quite hard to be experimental with. Why? Because sync is just way quicker than using async/await. Once that changes (or someone really wants an async API) we&#x27;ll demonstrate how to write one!</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="subscription-registry-factory">Subscription Registry Factory<a class="hash-link" href="#subscription-registry-factory" title="Direct link to heading">â€‹</a></h2><p>The Subscription Registry is sort of like the dispatch centre of deepstream. It holds all subscriptions and gets told whenever someone subscribes or unsubscribes to anything. It&#x27;s also responsible for sending those messages out
to all interested clients. This is a plugin purely because we want to start experimenting with different broadcast
patterns and allowing users to decide which one makes most sense. We&#x27;ll be adding an example plugin to this in the future as it&#x27;s quite complex. However if anyone is interested please raise a git issue and we&#x27;ll be more than happy to run you through it!</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="custom-plugins">Custom Plugins<a class="hash-link" href="#custom-plugins" title="Direct link to heading">â€‹</a></h2><p>A custom plugin is something that can add new functionality to connect your world to internal deepstream logic and services. A couple of random examples:</p><ul><li>Forcefully terminating user sessions via a HTTP request</li><li>Refreshing valve permissions on demand without a server restart</li><li>Send login/logout events to a third party system</li><li>Changing deepstream configuration during runtime (like timeout durations)</li></ul><p>The custom plugin API currently is just in its infancy, and we&#x27;re hoping that we get requests of useful (and crazy!)
ideas to help us mold it into something even more powerful!</p><p>To see example custom plugins please look at <a href="/docs/tutorials/custom-plugins/custom-plugin">building custom plugins</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/deepstreamIO/deepstreamIO.github.io/docs/00-tutorials/70-custom-plugins/10-an-overview.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/tutorials/plugins/monitoring/http-log-monitoring"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">HTTP and Log Monitoring</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/tutorials/custom-plugins/custom-plugin"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Building your own custom plugin</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a></li><li><a href="#permissioning" class="table-of-contents__link toc-highlight">Permissioning</a></li><li><a href="#cache" class="table-of-contents__link toc-highlight">Cache</a></li><li><a href="#storage" class="table-of-contents__link toc-highlight">Storage</a></li><li><a href="#logger" class="table-of-contents__link toc-highlight">Logger</a></li><li><a href="#connection-endpoints" class="table-of-contents__link toc-highlight">Connection Endpoints</a></li><li><a href="#monitoring" class="table-of-contents__link toc-highlight">Monitoring</a></li><li><a href="#cluster-node" class="table-of-contents__link toc-highlight">Cluster Node</a></li><li><a href="#locks" class="table-of-contents__link toc-highlight">Locks</a></li><li><a href="#cluster-registry" class="table-of-contents__link toc-highlight">Cluster Registry</a></li><li><a href="#state-registry-factory" class="table-of-contents__link toc-highlight">State Registry Factory</a></li><li><a href="#subscription-registry-factory" class="table-of-contents__link toc-highlight">Subscription Registry Factory</a></li><li><a href="#custom-plugins" class="table-of-contents__link toc-highlight">Custom Plugins</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Content</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/install/linux">Install</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/concepts/what-is-deepstream">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/deepstreamIO/deepstreamIO.github.io/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/deepstreamIO/deepstream.io/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Server changelog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/deepstreamIO/deepstream.io-client-js/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Client changelog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 deepstreamHub GmbH and contributors</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4b67704a.js"></script>
<script src="/assets/js/main.a9eddb7b.js"></script>
</body>
</html>