<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="DeepstreamIO RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="DeepstreamIO Atom Feed"><title data-react-helmet="true">Valve Dynamic | DeepstreamIO</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://deepstreamIO.github.io/docs/tutorials/core/permission/valve-dynamic"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Valve Dynamic | DeepstreamIO"><meta data-react-helmet="true" name="description" content="Realtime permissions that are readable on both client and server"><meta data-react-helmet="true" property="og:description" content="Realtime permissions that are readable on both client and server"><link data-react-helmet="true" rel="icon" href="/img/eltons/elton-hive.svg"><link data-react-helmet="true" rel="canonical" href="https://deepstreamIO.github.io/docs/tutorials/core/permission/valve-dynamic"><link data-react-helmet="true" rel="alternate" href="https://deepstreamIO.github.io/docs/tutorials/core/permission/valve-dynamic" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://deepstreamIO.github.io/docs/tutorials/core/permission/valve-dynamic" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.82963691.css">
<link rel="preload" href="/assets/js/runtime~main.4b67704a.js" as="script">
<link rel="preload" href="/assets/js/main.a9eddb7b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/eltons/elton-hive.svg" alt="DeepstreamIO" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/eltons/elton-hive.svg" alt="DeepstreamIO" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">DeepstreamIO</b></a><a class="navbar__item navbar__link" href="/docs/tutorials/concepts/what-is-deepstream">Tutorials</a><a class="navbar__item navbar__link" href="/docs/docs">Docs</a><a class="navbar__item navbar__link" href="/docs/guides">Guides</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deepstreamIO" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/tutorials/concepts/what-is-deepstream">tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/concepts/what-is-deepstream">concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/getting-started/javascript">getting-started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/install/linux">install</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/docs/tutorials/core/auth/auth-introduction">core</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/core/auth/auth-introduction">auth</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/docs/tutorials/core/permission/valve-introduction">permission</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/core/permission/valve-introduction">Valve Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/core/permission/valve-simple">Valve Simple</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/core/permission/valve-advanced">Valve Advanced</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorials/core/permission/valve-dynamic">Valve Dynamic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/core/permission/user-specific-data">User-Specific Data</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/core/pubsub/events">pubsub</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/core/request-response/rpc">request-response</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/core/presence/query-clients">presence</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/core/datasync/records">datasync</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/core/listening/index">listening</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/integrations/frontend/react">integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/plugins/logger/std">plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/custom-plugins/an-overview">custom-plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/docs/tutorials/devops/nginx">devops</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/docs/docs">docs</a><button aria-label="Toggle the collapsible sidebar category &#x27;docs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" href="/docs/guides">guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Valve Dynamic</h1></header><p>Oh dear...permissions! Permissions are always super-hard to explain. I&#x27;ve read tutorials using The Simpsons, The Fellowship of the Ring and even the Olsen Twins to explain concepts like &quot;access groups&quot; and &quot;right-inheritance&quot;.</p><p>With deepstream, things can be equally tricky at times - but for different reasons. deepstream is a realtime server. And even its permissions can be - if you want them to be - shared with both clients and servers in realtime.</p><p>The good news is that deepstream makes realtime permissions extremely easy using a permission language called &quot;Valve&quot;. This tutorial assumes that you already know your way around Valve. If you haven&#x27;t come across it yet, make sure to read the <a href="/docs/tutorials/core/permission/valve-simple">Simple Valve</a> and <a href="/docs/tutorials/core/permission/valve-advanced">Advanced Valve</a> tutorials first.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="but-hold-on-why-would-i-want-realtime-permissions">But hold on: Why would I want realtime permissions?<a class="hash-link" href="#but-hold-on-why-would-i-want-realtime-permissions" title="Direct link to heading">â€‹</a></h2><p>A lot of times you&#x27;ll want the same set of permissions in two places:</p><p>-On the server to enforce the permission-rules within a trusted environment.</p><p>-On the client to provide instant validation and a defensive design that avoids user frustration by making forbidden options unavailable.</p><p>As permissions change - e.g. a user being kicked out of a chat-group or a trader no longer being allowed to buy a certain stock - you&#x27;d want those permissions not only to take effect immediatly, but also gently and gracefully remove the associated options from the client&#x27;s UI - the exact  moment they become unavailable.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="the-goal-of-this-tutorial">The goal of this tutorial<a class="hash-link" href="#the-goal-of-this-tutorial" title="Direct link to heading">â€‹</a></h2><p>This tutorial won&#x27;t be using The Simpsons or any other metaphor. Instead, it will use colors (hurray!). Here&#x27;s what we want to achieve:</p><p>there will be three users and one admin with individual credentials
<img alt="Screenshot login form" src="data:image/png;base64,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"></p><p>there is one global color <a href="/docs/tutorials/core/datasync/records">record</a> that can be set by any user to red, green or blue</p><p>each user gets three buttons, one for each color. When clicked, they set the global color.
<img alt="Screenshot user GUI" src="data:image/png;base64,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"></p><p>the admin user can decide which user is allowed to set the global color to which value
<img alt="Screenshot Admin User GUI" src="data:image/png;base64,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"></p><p>Any change to a user&#x27;s permission needs to reflect on their GUI in realtime and needs to be enforcable by the server</p><p><img alt="Animation interaction" src="/assets/images/deepstream-dynamic-permissions-7844acaefbe0101e41d65dfb29520d71.gif"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="login">Login<a class="hash-link" href="#login" title="Direct link to heading">â€‹</a></h2><p>To keep things simple we&#x27;ll be using <a href="/docs/tutorials/core/auth/file">file-authentication</a> and cleartext passwords. To enable file-based authentication, configure it in the <code>auth</code> section of your server&#x27;s <code>config.yml</code>.</p><div class="codeBlockContainer_J+bg language-yaml theme-code-block"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">auth</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">options</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">users</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fileLoad(users.yml) </span><span class="token comment" style="color:#999988;font-style:italic"># Path to the user file. Can be json, js or yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">hash</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># false indicates that we&#x27;re using cleartext passwords</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Every user has associated metadata that will be shared with both Valve and the client for permissioning. Here&#x27;s what this will look like:</p><div class="codeBlockContainer_J+bg language-yaml theme-code-block"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># User A</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">userA</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;usera-pass&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">serverData</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">permissionRecord</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;permissions/usera&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">clientData</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">permissionRecord</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;permissions/usera&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>a few things to note:</p><ul><li>this data is stored in <code>users.yml</code></li><li>the data is specified twice. <code>serverData</code> will be available within Valve rules as <code>user.data</code>, <code>clientData</code> will be passed as the second arguments to succesful <code>login()</code> callbacks.</li><li><code>role</code> can either be <code>user</code> or <code>admin</code>. Admins will be shown the admin GUI on the client and are allowed to set a user&#x27;s permissions. Users can set the global color - if they are permissioned to set it to a particular value.</li><li><code>permissionRecord</code> is the name of a record that will contain the actual permission information in the following format:</li></ul><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">red</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">blue</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">green</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="the-permissions">The permissions<a class="hash-link" href="#the-permissions" title="Direct link to heading">â€‹</a></h2><p>Our permissions are stored in a file called <code>permissions.yml</code>. The section on records will look as follows</p><div class="codeBlockContainer_J+bg language-yaml theme-code-block"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">record</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">&quot;*&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">create</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">write</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">read</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">delete</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">listen</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">&quot;global-color&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">write</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;_(user.data.permissionRecord)[data.color]&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">&quot;permissions/*&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">write</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user.data.role === &#x27;admin&#x27;&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="default-permissions">Default permissions<a class="hash-link" href="#default-permissions" title="Direct link to heading">â€‹</a></h3><p>Lets look at this file step: In general we allow everything, but turn off deletion and listening to records as these features won&#x27;t be used in our example. Depending on your approach it might be a better choice to deny everything by default and only explicitly allow interactions.</p><div class="codeBlockContainer_J+bg language-yaml theme-code-block"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">&quot;*&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">create</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">write</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">read</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">delete</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">listen</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="allowing-users-to-set-global-color">Allowing users to set global color<a class="hash-link" href="#allowing-users-to-set-global-color" title="Direct link to heading">â€‹</a></h3><p>Here we decide whether a user is allowed to set the global color to a specific value. <code>user.data.permissionRecord</code> is the name of the permission-record specified in our <code>users.yml</code> file&#x27;s <code>serverData</code> section.</p><p><code>_()</code> is the cross-reference-function used to load a record&#x27;s data into our permission rule. <code>data.color</code> is the color value in the incoming data the user tries to write.</p><div class="codeBlockContainer_J+bg language-yaml theme-code-block"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">&quot;global-color&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">write</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;_(user.data.permissionRecord)[data.color]&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="allowing-only-admins-to-set-permissions">Allowing only admins to set permissions<a class="hash-link" href="#allowing-only-admins-to-set-permissions" title="Direct link to heading">â€‹</a></h3><p>Next up we need to make sure that only admins can set a user&#x27;s permission. Similar to before we check for every write to any of the permission records (<code>permissions/usera</code> etc.) if the role of the one attempting the write is <code>admin</code>.</p><div class="codeBlockContainer_J+bg language-yaml theme-code-block"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">&quot;permissions/*&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">write</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user.data.role === &#x27;admin&#x27;&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="to-summarize">To summarize<a class="hash-link" href="#to-summarize" title="Direct link to heading">â€‹</a></h2><p>This mechanism is all we need to ensure the above permissions on both client and server. Everytime a user tries to write to the <code>global-color</code> record, her permissions are checked accordingly. Everytime an admin enables or disables a permission, the associated button on the user&#x27;s GUI is turned on or off.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_NBRY padding--none margin-left--sm"><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/docs/tags/tutorial">tutorial</a></li><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/docs/tags/realtime">realtime</a></li><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/docs/tags/permissions">permissions</a></li><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/docs/tags/server">server</a></li><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/docs/tags/client">client</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/deepstreamIO/deepstreamIO.github.io/docs/00-tutorials/20-core/30-permission/40-valve-dynamic.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/tutorials/core/permission/valve-advanced"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Valve Advanced</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/tutorials/core/permission/user-specific-data"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">User-Specific Data</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#but-hold-on-why-would-i-want-realtime-permissions" class="table-of-contents__link toc-highlight">But hold on: Why would I want realtime permissions?</a></li><li><a href="#the-goal-of-this-tutorial" class="table-of-contents__link toc-highlight">The goal of this tutorial</a></li><li><a href="#login" class="table-of-contents__link toc-highlight">Login</a></li><li><a href="#the-permissions" class="table-of-contents__link toc-highlight">The permissions</a><ul><li><a href="#default-permissions" class="table-of-contents__link toc-highlight">Default permissions</a></li><li><a href="#allowing-users-to-set-global-color" class="table-of-contents__link toc-highlight">Allowing users to set global color</a></li><li><a href="#allowing-only-admins-to-set-permissions" class="table-of-contents__link toc-highlight">Allowing only admins to set permissions</a></li></ul></li><li><a href="#to-summarize" class="table-of-contents__link toc-highlight">To summarize</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Content</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/install/linux">Install</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/concepts/what-is-deepstream">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/deepstreamIO/deepstreamIO.github.io/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/deepstreamIO/deepstream.io/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Server changelog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/deepstreamIO/deepstream.io-client-js/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Client changelog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 deepstreamHub GmbH and contributors</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4b67704a.js"></script>
<script src="/assets/js/main.a9eddb7b.js"></script>
</body>
</html>