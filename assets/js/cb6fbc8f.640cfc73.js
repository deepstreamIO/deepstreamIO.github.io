"use strict";(self.webpackChunkdeepstreamio_github_io=self.webpackChunkdeepstreamio_github_io||[]).push([[6071],{5680:(e,t,r)=>{r.d(t,{xA:()=>p,yg:()=>g});var a=r(6540);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r,a,o={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=a.createContext({}),c=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,o=e.mdxType,n=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(r),m=o,g=d["".concat(l,".").concat(m)]||d[m]||u[m]||n;return r?a.createElement(g,i(i({ref:t},p),{},{components:r})):a.createElement(g,i({ref:t},p))}));function g(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=r.length,i=new Array(n);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<n;c++)i[c]=r[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},6762:(e,t,r)=>{r.r(t),r.d(t,{contentTitle:()=>i,default:()=>d,frontMatter:()=>n,metadata:()=>s,toc:()=>l});var a=r(8168),o=(r(6540),r(5680));const n={title:"Docker Image",description:"Run a deepstream standalone container from an image. This tutorial will also explain how to build the image manually.",draft:!0},i=void 0,s={unversionedId:"tutorials/devops/docker",id:"tutorials/devops/docker",title:"Docker Image",description:"Run a deepstream standalone container from an image. This tutorial will also explain how to build the image manually.",source:"@site/docs/00-tutorials/80-devops/20-docker.md",sourceDirName:"00-tutorials/80-devops",slug:"/tutorials/devops/docker",permalink:"/docs/tutorials/devops/docker",editUrl:"https://github.com/deepstreamIO/deepstreamIO.github.io/docs/00-tutorials/80-devops/20-docker.md",tags:[],version:"current",sidebarPosition:20,frontMatter:{title:"Docker Image",description:"Run a deepstream standalone container from an image. This tutorial will also explain how to build the image manually.",draft:!0},sidebar:"tutorialSidebar",previous:{title:"Docker Compose",permalink:"/docs/tutorials/devops/docker-compose"},next:{title:"Documentation",permalink:"/docs/docs/"}},l=[{value:"What is Docker?",id:"what-is-docker",children:[],level:3},{value:"Why use Docker with deepstream?",id:"why-use-docker-with-deepstream",children:[],level:3},{value:"How to use Docker with deepstream?",id:"how-to-use-docker-with-deepstream",children:[],level:3}],c={toc:l},p="wrapper";function d(e){let{components:t,...r}=e;return(0,o.yg)(p,(0,a.A)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("h3",{id:"what-is-docker"},"What is Docker?"),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://www.docker.com/"},"Docker")," is an open-source project that automates the deployment of applications inside software containers.\nDocker provides an additional layer of abstraction and automation of operating-system-level virtualization on Linux."),(0,o.yg)("p",null,"As actions are performed on a Docker base image, union file system layers are created and documented in such a way that each layer fully describes how to recreate the action. This strategy enables Docker's lightweight images as only layer updates need to be propagated (as opposed to entire VMs)."),(0,o.yg)("h3",{id:"why-use-docker-with-deepstream"},"Why use Docker with deepstream?"),(0,o.yg)("p",null,"Docker provides a lightweight solution to spin up fully functioning deepstream environments. It encapsulates all necessary settings and reduces complexity for large scale microservice deployments."),(0,o.yg)("h3",{id:"how-to-use-docker-with-deepstream"},"How to use Docker with deepstream?"),(0,o.yg)("p",null,"In this tutorial we'll install a standalone Docker image and create a container. The image contains deepstream's source code as well as everything else necessary to run deepstream from source."),(0,o.yg)("p",null,"If you'd like a bit more than just a single deepstream node, head over to the ",(0,o.yg)("a",{parentName:"p",href:"docker-compose"},"Docker Compose tutorial"),", describing how to set up multiple connected database, cache and search containers that act as the message and storage layer for deepstream."),(0,o.yg)("p",null,"Let's start by installing the image from the DockerHub registry by running this command:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker pull deepstreamio/deepstream.io\n")),(0,o.yg)("p",null,"Now create a container from this image and assign the container's name to ",(0,o.yg)("inlineCode",{parentName:"p"},"deepstream.io"),":"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker create -t -p 6020:6020 -p 6021:6021 \\\n  --name deepstream.io \\\n  -v $(pwd)/conf:/usr/local/deepstream/conf \\\n  -v $(pwd)/var:/usr/local/deepstream/var \\\n  deepstreamio/deepstream.io\n")),(0,o.yg)("p",null,"Now you can start the container via"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker start -ia deepstream.io\n")),(0,o.yg)("p",null,"This will start the container in the foreground. You can press ",(0,o.yg)("kbd",null,"Ctrl"),"+",(0,o.yg)("kbd",null,"c")," but\nthe container will still be alive. To stop the container you need to run"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker stop deepstream.io\n")),(0,o.yg)("p",null,"In case you want to start it in the background just omit the ",(0,o.yg)("inlineCode",{parentName:"p"},"-ia")," option."),(0,o.yg)("p",null,"You can show the logs with this command:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker logs -f deepstream.io\n")),(0,o.yg)("p",null,"The ",(0,o.yg)("inlineCode",{parentName:"p"},"-f")," option will keep the process alive and follow output."),(0,o.yg)("p",null,"If you want to build the Docker image from the Dockerfile and use a docker-compose file instead you can checkout\nour ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/deepstreamIO/docker/tree/master/deepstream.io"},"Docker Repository on GitHub")))}d.isMDXComponent=!0}}]);