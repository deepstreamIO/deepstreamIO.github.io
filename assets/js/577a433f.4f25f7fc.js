"use strict";(self.webpackChunkdeepstreamio_github_io=self.webpackChunkdeepstreamio_github_io||[]).push([[113],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),o=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=o(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=d(e,["components","mdxType","originalType","parentName"]),u=o(n),m=r,h=u["".concat(s,".").concat(m)]||u[m]||c[m]||l;return n?a.createElement(h,i(i({ref:t},p),{},{components:n})):a.createElement(h,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=u;var d={};for(var s in t)hasOwnProperty.call(t,s)&&(d[s]=t[s]);d.originalType=e,d.mdxType="string"==typeof e?e:r,i[1]=d;for(var o=2;o<l;o++)i[o]=n[o];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},8055:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return d},contentTitle:function(){return s},metadata:function(){return o},toc:function(){return p},default:function(){return u}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),i=["components"],d={title:"double-ended queue",description:"API docs for deepstream's double-ended queue (Dq) object, a network efficient collection of record names"},s=void 0,o={unversionedId:"docs/client-js/datasync-dequeue",id:"docs/client-js/datasync-dequeue",title:"double-ended queue",description:"API docs for deepstream's double-ended queue (Dq) object, a network efficient collection of record names",source:"@site/docs/10-docs/20-client-js/110-datasync-dequeue.md",sourceDirName:"10-docs/20-client-js",slug:"/docs/client-js/datasync-dequeue",permalink:"/docs/docs/client-js/datasync-dequeue",editUrl:"https://github.com/deepstreamIO/deepstreamIO.github.io/docs/10-docs/20-client-js/110-datasync-dequeue.md",tags:[],version:"current",sidebarPosition:110,frontMatter:{title:"double-ended queue",description:"API docs for deepstream's double-ended queue (Dq) object, a network efficient collection of record names"},sidebar:"tutorialSidebar",previous:{title:"List",permalink:"/docs/docs/client-js/datasync-list"},next:{title:"HTTP API",permalink:"/docs/docs/client-http/v1"}},p=[{value:"Creating Dqs",id:"creating-dqs",children:[],level:2},{value:"Properties",id:"properties",children:[],level:2},{value:"Events",id:"events",children:[{value:"entry-added",id:"entry-added",children:[],level:3},{value:"entry-moved",id:"entry-moved",children:[],level:3},{value:"entry-removed",id:"entry-removed",children:[],level:3},{value:"delete",id:"delete",children:[],level:3},{value:"discard",id:"discard",children:[],level:3},{value:"error",id:"error",children:[],level:3}],level:2},{value:"Methods",id:"methods",children:[{value:"whenReady( callback? | Promise )",id:"whenready-callback--promise-",children:[],level:3},{value:"isEmpty()",id:"isempty",children:[],level:3},{value:"getEntries()",id:"getentries",children:[],level:3},{value:"setEntries( entries, callback? )",id:"setentries-entries-callback-",children:[],level:3},{value:"setEntriesWithAck( entries)",id:"setentrieswithack-entries",children:[],level:3},{value:"getLast",id:"getlast",children:[],level:3},{value:"getFirst",id:"getfirst",children:[],level:3},{value:"shift",id:"shift",children:[],level:3},{value:"pop",id:"pop",children:[],level:3},{value:"unshift",id:"unshift",children:[],level:3},{value:"push",id:"push",children:[],level:3},{value:"insertEntry( entry, index)",id:"insertentry-entry-index",children:[],level:3},{value:"removeEntry( entry, index?)",id:"removeentry-entry-index",children:[],level:3},{value:"subscribe( position?, callback, triggerNow )",id:"subscribe-position-callback-triggernow-",children:[],level:3},{value:"unsubscribe( position?, callback )",id:"unsubscribe-position-callback-",children:[],level:3},{value:"discard()",id:"discard-1",children:[],level:3},{value:"delete(callback? | Promise)",id:"deletecallback--promise",children:[],level:3}],level:2}],c={toc:p};function u(e){var t=e.components,n=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"Dq's are a new implementation of lists that favour network efficiency over record size. They are presented at the client level just like a list, an array of record names, but have a different API for data handling that uses a fraction of message size to propagate changes, unlike lists that require for every change to resend the complete list over the wire. The caveat is the record can be up to 1.9x the size of a list, but propagating changes has a message size of ~100 bytes (depending on the actual data that is being added/removed from the dq)."),(0,l.kt)("h2",{id:"creating-dqs"},"Creating Dqs"),(0,l.kt)("p",null,"Double ended queues are created and retrieved using ",(0,l.kt)("inlineCode",{parentName:"p"},"client.record.getDq( 'name' );")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"const dq = client.record.getDq( 'cars' );\n")),(0,l.kt)("h2",{id:"properties"},"Properties"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"name"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"The name of the Dq, as specified when calling ",(0,l.kt)("inlineCode",{parentName:"td"},"client.record.getDq( 'name' );"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"isReady"),(0,l.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"True once the Dq has received its current data and emitted the ",(0,l.kt)("inlineCode",{parentName:"td"},"'ready'")," event")))),(0,l.kt)("h2",{id:"events"},"Events"),(0,l.kt)("h3",{id:"entry-added"},"entry-added"),(0,l.kt)("p",null,"Emitted whenever a new entry is added to the Dq. Passes the entry and its position within the Dq to the callback."),(0,l.kt)("h3",{id:"entry-moved"},"entry-moved"),(0,l.kt)("p",null,"Emitted whenever an entry is moved within the Dq. Passes the entry and its new position within the Dq to the callback."),(0,l.kt)("h3",{id:"entry-removed"},"entry-removed"),(0,l.kt)("p",null,"Emitted whenever an entry is removed from the Dq. Passes the entry and its last position within the Dq to the callback."),(0,l.kt)("h3",{id:"delete"},"delete"),(0,l.kt)("p",null,"Emitted when the Dq was deleted, whether by this client or by another."),(0,l.kt)("h3",{id:"discard"},"discard"),(0,l.kt)("p",null,"Emitted once the Dq was discarded."),(0,l.kt)("h3",{id:"error"},"error"),(0,l.kt)("p",null,"Emitted if the Dq encounters an error. The error message is passed to the event callback."),(0,l.kt)("h2",{id:"methods"},"Methods"),(0,l.kt)("h3",{id:"whenready-callback--promise-"},"whenReady( callback? | Promise )"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Optional"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"callback"),(0,l.kt)("td",{parentName:"tr",align:null},"Function"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that will be invoked as soon as the Dq is ready. Receives the Dq as an argument")))),(0,l.kt)("p",null,"Invokes ",(0,l.kt)("inlineCode",{parentName:"p"},"callback")," once the Dq has been loaded. This might happen synchronously if the Dq is already available or asynchronously if the Dq still needs to be retrieved. Some methods, e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"addEntry()")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"setEntries()")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"subscribe()")," can be used before the Dq is ready."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"// Callback\ndq.whenReady( ( dq ) => {\n  // interact with the dq\n});\n\n// ES6\nawait dq.whenReady()\n")),(0,l.kt)("h3",{id:"isempty"},"isEmpty()"),(0,l.kt)("p",null,"Returns ",(0,l.kt)("inlineCode",{parentName:"p"},"false")," if the Dq has entries or ",(0,l.kt)("inlineCode",{parentName:"p"},"true")," if it doesn't."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"if( dq.isEmpty() ) {\n  // You don't have any entries\n}\n")),(0,l.kt)("h3",{id:"getentries"},"getEntries()"),(0,l.kt)("p",null,"Returns an array of the current entries in the Dq."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"const entries = dq.getEntries()\nconsole.log( entries ) // [ 'car/1', 'car2' ]\n")),(0,l.kt)("h3",{id:"setentries-entries-callback-"},"setEntries( entries, callback? )"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Optional"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"entries"),(0,l.kt)("td",{parentName:"tr",align:null},"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"An array of record name strings")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"callback"),(0,l.kt)("td",{parentName:"tr",align:null},"Function"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Will be called with the result of the write when using record write acknowledgements")))),(0,l.kt)("p",null,"Sets the contents of the Dq to the provided array of record names. To add or remove specific entries see further methods."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"dq.setEntries( [ 'car/1', 'car/2' ] );\n")),(0,l.kt)("h3",{id:"setentrieswithack-entries"},"setEntriesWithAck( entries)"),(0,l.kt)("p",null,"Same as ",(0,l.kt)("inlineCode",{parentName:"p"},"setEntries")," but returns a promise that fulfills when writing to cache or storage is completed."),(0,l.kt)("h3",{id:"getlast"},"getLast"),(0,l.kt)("p",null,"Get last entry"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"dq.getLast()\n")),(0,l.kt)("h3",{id:"getfirst"},"getFirst"),(0,l.kt)("p",null,"Get first entry"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"dq.getFist()\n")),(0,l.kt)("h3",{id:"shift"},"shift"),(0,l.kt)("p",null,"Remove first value from dq and return it"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"dq.shift()\n")),(0,l.kt)("h3",{id:"pop"},"pop"),(0,l.kt)("p",null,"Remove last value from dq and return it"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"dq.pop()\n")),(0,l.kt)("h3",{id:"unshift"},"unshift"),(0,l.kt)("p",null,"Add value at first position"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"dq.unshift('first')\n")),(0,l.kt)("h3",{id:"push"},"push"),(0,l.kt)("p",null,"Add value at last position"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"dq.push('last')\n")),(0,l.kt)("h3",{id:"insertentry-entry-index"},"insertEntry( entry, index)"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Optional"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"entry"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"A record name that should be inserted to the dq")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"index"),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"Index that the new entry should be inserted at")))),(0,l.kt)("p",null,"Adds a new record name to the Dq at an intermediate position"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"function addCarAt2( number ) {\n  const id = 'car/' + client.getUid();\n  client.record.getRecord( id ).set( 'number', number );\n  dq.insertEntry( id, 2 );\n}\n")),(0,l.kt)("h3",{id:"removeentry-entry-index"},"removeEntry( entry, index?)"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Optional"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"entry"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"A record name that should be removed to the dq")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"index"),(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"An optional index that the entry should be removed from at. If ommited, the first entry of the given name will be removed.")))),(0,l.kt)("p",null,"Removes an entry from the dq. ",(0,l.kt)("inlineCode",{parentName:"p"},"removeEntry")," will throw an error if the entry doesn't exist."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"function removeCar( carRecord ) {\n  dq.removeEntry( carRecord.name );\n}\n")),(0,l.kt)("h3",{id:"subscribe-position-callback-triggernow-"},"subscribe( position?, callback, triggerNow )"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Optional"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"position"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Option to subscribe to changes to the ",(0,l.kt)("inlineCode",{parentName:"td"},"first")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"last")," element of the dq")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"callback"),(0,l.kt)("td",{parentName:"tr",align:null},"Function"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"A callback function that will be called whenever the content of the dq, or the `first")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"triggerNow"),(0,l.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"If true, the callback function will be called immediately with the current value")))),(0,l.kt)("p",null,"Registers a function that will be invoked whenever any changes to the dq's contents occur. You can pass the position: ",(0,l.kt)("inlineCode",{parentName:"p"},"first|last")," as first argument to be informed of changes made only to the ",(0,l.kt)("inlineCode",{parentName:"p"},"first|last")," element. Optionally you can also pass ",(0,l.kt)("inlineCode",{parentName:"p"},"true")," to execute the callback function straight away with the dq's current entries."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"function dqChanged( entries ) {\n  // entries in dq has changed\n}\ndq.subscribe( dqChanged, false );\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"function firstChanged( firstElement ) {\n  // first element has changed\n}\ndq.subscribe( 'first', firstChanged, true );\n")),(0,l.kt)("h3",{id:"unsubscribe-position-callback-"},"unsubscribe( position?, callback )"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Optional"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"position"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"The previously registered option if you wish to unsubscribe only that case")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"callback"),(0,l.kt)("td",{parentName:"tr",align:null},"Function"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"The previously registered callback function. If ommited, all listeners will be unsubscribed.")))),(0,l.kt)("p",null,"Removes a subscription that was previously made using ",(0,l.kt)("inlineCode",{parentName:"p"},"dq.subscribe()"),". If the position is specified, only the subscription to the position changes will be removed."),(0,l.kt)("p",null,"Please Note: unsubscribe is purely a client side operation. To notify the server\nthat the app no longer requires updates for this dq use ",(0,l.kt)("inlineCode",{parentName:"p"},"discard()"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"dq.unsubscribe( dqChanged );\n")),(0,l.kt)("h3",{id:"discard-1"},"discard()"),(0,l.kt)("p",null,"Removes all change listeners and notifies the server that the client is no longer interested in updates for this dq."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"dq.discard();\n")),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"It is important to make sure that ",(0,l.kt)("inlineCode",{parentName:"p"},"discard()")," is called for any dq that's no longer needed. If you only remove the listeners using ",(0,l.kt)("inlineCode",{parentName:"p"},"unsubscribe()")," the server won't be notified and will continue to send updates to the client."))),(0,l.kt)("h3",{id:"deletecallback--promise"},"delete(callback? | Promise)"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Optional"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"callback"),(0,l.kt)("td",{parentName:"tr",align:null},"Function"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"A function that will be invoked as soon as the dq is deleted")))),(0,l.kt)("p",null,"Deletes the dq on the server. This action deletes the dq for all users from both cache and storage and is irreversible."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"dq.delete();\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"// ES6\nawait dq.delete();\n")))}u.isMDXComponent=!0}}]);