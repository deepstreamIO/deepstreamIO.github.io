"use strict";(self.webpackChunkdeepstreamio_github_io=self.webpackChunkdeepstreamio_github_io||[]).push([[1088],{1636:(e,t,r)=>{r.r(t),r.d(t,{contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var s=r(8168),n=(r(6540),r(5680));const a={title:"Redis Cache Connector"},i=void 0,o={unversionedId:"tutorials/plugins/cache/redis",id:"tutorials/plugins/cache/redis",title:"Redis Cache Connector",description:"What is Redis?",source:"@site/docs/00-tutorials/60-plugins/20-cache/10-redis.md",sourceDirName:"00-tutorials/60-plugins/20-cache",slug:"/tutorials/plugins/cache/redis",permalink:"/docs/tutorials/plugins/cache/redis",editUrl:"https://github.com/deepstreamIO/deepstreamIO.github.io/docs/00-tutorials/60-plugins/20-cache/10-redis.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{title:"Redis Cache Connector"},sidebar:"tutorialSidebar",previous:{title:"Winston Logger",permalink:"/docs/tutorials/plugins/logger/winston"},next:{title:"Memcached Cache Connector",permalink:"/docs/tutorials/plugins/cache/memcached"}},c=[{value:"What is Redis?",id:"what-is-redis",children:[],level:4},{value:"Why use Redis with deepstream?",id:"why-use-redis-with-deepstream",children:[],level:4},{value:"How to use Redis as a cache with deepstream?",id:"how-to-use-redis-as-a-cache-with-deepstream",children:[],level:4}],l={toc:c},d="wrapper";function u(e){let{components:t,...r}=e;return(0,n.yg)(d,(0,s.A)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h4",{id:"what-is-redis"},"What is Redis?"),(0,n.yg)("p",null,'A lot of things. In fact, so many that its often referred to as the "Swiss Army Knife of the web". Redis is first and foremost a cache. It\'s fast, simple, single threaded with non-blocking I/O and scales well in distributed deployments (should sound familiar to deepstream fans).'),(0,n.yg)("p",null,"But it also persists its data to disk, making it a good alternative to full-size databases for simpler usecases and can act as a publish/subscribe server for message distribution."),(0,n.yg)("p",null,"You can easily install Redis yourself or use it as a service from your cloud hosting provider, e.g. via AWS ElastiCache, Microsoft Azure or RackSpace's Object Rocket. Due to its popularity there are also a number of specialized Redis hosting companies, e.g. RedisLabs, RedisGreen, Compose or ScaleGrid, but be careful: deepstream constantly interacts with its cache, so every millisecond network latency between its server and your RedisHoster makes deepstream notably slower. We strongly recommend choosing a cache that runs in close network proximity to your deepstream servers, e.g. within the same data-center."),(0,n.yg)("h4",{id:"why-use-redis-with-deepstream"},"Why use Redis with deepstream?"),(0,n.yg)("p",null,"Redis is a great fit for use with deepstream. It can be used as a cache, persists data and re-distributes messages for smaller to medium sized deepstream clusters. It won't be much help when it comes to executing complex queries, but if you can live without, Redis might be all you need for your production deployment."),(0,n.yg)("h4",{id:"how-to-use-redis-as-a-cache-with-deepstream"},"How to use Redis as a cache with deepstream?"),(0,n.yg)("p",null,"It comes preinstalled with the binary or if you're using deepstream in Node.js via ",(0,n.yg)("a",{parentName:"p",href:"https://www.npmjs.com/package/@deepstream/cache-redis"},"NPM")),(0,n.yg)("p",null,"And can be enabled in your config file as follows:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},"cache:\n  name: redis\n  options:\n    host: localhost\n    port: 6379\n")),(0,n.yg)("p",null,"Both connectors work with Redis clusters as well. Just adjust your options as follows:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},"cache:\n  name: redis\n  options:\n    nodes:\n      - host: <String>\n        port: <Number>\n        password: <String>\n      - host: <String>\n        port: <Number>\n    maxRedirections: 16\n    redisOptions:\n      password: 'fallback-password'\n")))}u.isMDXComponent=!0},5680:(e,t,r)=>{r.d(t,{xA:()=>d,yg:()=>h});var s=r(6540);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r,s,n={},a=Object.keys(e);for(s=0;s<a.length;s++)r=a[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var c=s.createContext({}),l=function(e){var t=s.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=l(e.components);return s.createElement(c.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},m=s.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,c=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=l(r),m=n,h=u["".concat(c,".").concat(m)]||u[m]||p[m]||a;return r?s.createElement(h,i(i({ref:t},d),{},{components:r})):s.createElement(h,i({ref:t},d))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,i=new Array(a);i[0]=m;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o[u]="string"==typeof e?e:n,i[1]=o;for(var l=2;l<a;l++)i[l]=r[l];return s.createElement.apply(null,i)}return s.createElement.apply(null,r)}m.displayName="MDXCreateElement"}}]);