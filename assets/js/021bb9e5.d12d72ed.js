"use strict";(self.webpackChunkdeepstreamio_github_io=self.webpackChunkdeepstreamio_github_io||[]).push([[757],{2872:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>i,default:()=>c,frontMatter:()=>s,metadata:()=>l,toc:()=>o});var a=t(8168),r=(t(6540),t(5680));const s={title:"VueJS",tags:["JavaScript","VueJS","Vue","data-sync","pub-sub","request-response","RPCs"]},i=void 0,l={unversionedId:"tutorials/integrations/frontend/vuejs",id:"tutorials/integrations/frontend/vuejs",title:"VueJS",description:"This tutorial has not been updated",source:"@site/docs/00-tutorials/50-integrations/10-frontend/20-vuejs.md",sourceDirName:"00-tutorials/50-integrations/10-frontend",slug:"/tutorials/integrations/frontend/vuejs",permalink:"/docs/tutorials/integrations/frontend/vuejs",editUrl:"https://github.com/deepstreamIO/deepstreamIO.github.io/docs/00-tutorials/50-integrations/10-frontend/20-vuejs.md",tags:[{label:"JavaScript",permalink:"/docs/tags/java-script"},{label:"VueJS",permalink:"/docs/tags/vue-js"},{label:"Vue",permalink:"/docs/tags/vue"},{label:"data-sync",permalink:"/docs/tags/data-sync"},{label:"pub-sub",permalink:"/docs/tags/pub-sub"},{label:"request-response",permalink:"/docs/tags/request-response"},{label:"RPCs",permalink:"/docs/tags/rp-cs"}],version:"current",sidebarPosition:20,frontMatter:{title:"VueJS",tags:["JavaScript","VueJS","Vue","data-sync","pub-sub","request-response","RPCs"]},sidebar:"tutorialSidebar",previous:{title:"React",permalink:"/docs/tutorials/integrations/frontend/react"},next:{title:"Angular",permalink:"/docs/tutorials/integrations/frontend/angular"}},o=[{value:"Create a Vue App",id:"create-a-vue-app",children:[],level:2},{value:"Connect to deepstream and log in",id:"connect-to-deepstream-and-log-in",children:[],level:2},{value:"Records (realtime datastore)",id:"records-realtime-datastore",children:[],level:2},{value:"Events (publish-subscribe)",id:"events-publish-subscribe",children:[],level:2},{value:"RPCs (request-response)",id:"rpcs-request-response",children:[],level:2},{value:"Where to go next?",id:"where-to-go-next",children:[],level:2}],p={toc:o},d="wrapper";function c(e){let{components:n,...t}=e;return(0,r.yg)(d,(0,a.A)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.yg)("div",{parentName:"div",className:"admonition-heading"},(0,r.yg)("h5",{parentName:"div"},(0,r.yg)("span",{parentName:"h5",className:"admonition-icon"},(0,r.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.yg)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.yg)("div",{parentName:"div",className:"admonition-content"},(0,r.yg)("p",{parentName:"div"},"This tutorial has not been updated"))),(0,r.yg)("p",null,"This getting started guide will walk you through integrating deepstream in Vue. You will also learn how to implement the three deepstream core concepts: ",(0,r.yg)("a",{parentName:"p",href:"../../../tutorials/core/datasync/records"},"Records"),", ",(0,r.yg)("a",{parentName:"p",href:"../../../tutorials/core/pubsub/events"},"Events")," and ",(0,r.yg)("a",{parentName:"p",href:"../../../tutorials/core/request-response/rpc"},"RPCs"),"."),(0,r.yg)("p",null,"deepstream provides a JavaScript library which helps interact with your deepstream server."),(0,r.yg)("h2",{id:"create-a-vue-app"},"Create a Vue App"),(0,r.yg)("p",null,"Vue provides a nice CLI tool for creating and managing Vue apps. The CLI allows you to create Vue apps using different templates that use either Webpack, Browserify or just CDN scripts. This example will use the ",(0,r.yg)("inlineCode",{parentName:"p"},"simple")," template which creates Vue app with the CDN scripts:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},'# Install Vue CLI\nnpm install -g vue-cli\n# Create Vue app with "simple" template\nvue init simple ds-vue\n')),(0,r.yg)("h2",{id:"connect-to-deepstream-and-log-in"},"Connect to deepstream and log in"),(0,r.yg)("p",null,"After you have successfully created a Vue app, add the deepstream JS-client library in your new project:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-html"},'<script src="https://cdn.deepstream.io/js/client/latest/ds.min.js"><\/script>\n')),(0,r.yg)("p",null,"Get your app url from the dashboard and establish a connection to deepstream using the ",(0,r.yg)("inlineCode",{parentName:"p"},"created")," lifecycle hook:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},"new Vue({\n    el: '#app',\n    data: {\n        ds: null,\n    },\n    created: function() {\n        this.ds = new DeepstreamClient('localhost:6020')\n        .login()\n    }\n})\n")),(0,r.yg)("p",null,"The hook will connect to your deepstream server and login only when the component is created."),(0,r.yg)("h2",{id:"records-realtime-datastore"},"Records (realtime datastore)"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"markdown:glossary-record.md")),(0,r.yg)("p",null,"Creating a new record or retrieving an existent one works the same way"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},"const myRecord = ds.record.getRecord( 'test/johndoe' );\n")),(0,r.yg)("p",null,"Values can be stored using the ",(0,r.yg)("inlineCode",{parentName:"p"},".set()")," method"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},"myRecord.set({\n    firstname: 'John',\n    lastname: 'Doe'\n});\n")),(0,r.yg)("p",null,"Let's set up two-way bindings with an input field - whenever a path within our record, e.g. ",(0,r.yg)("inlineCode",{parentName:"p"},"firstname")," changes we want to update the input. Whenever a user types, we want to update the record."),(0,r.yg)("p",null,"Let's see an example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},'const Record = {\n    template: `\n            <div class="group realtimedb">\n                <h2>Realtime Datastore</h2>\n                <div class="input-group half left">\n                    <label>Firstname</label>\n                    <input type="text" v-model="firstname" @input="handleFNameUpdate()" />\n                </div>\n                <div class="input-group half">\n                    <label>Lastname</label>\n                    <input type="text" v-model="lastname" @input="handleLNameUpdate()" />\n                </div>\n            </div>\n    `,\n    props: [\'ds\'],\n    data: function() {\n        return {\n            firstname: \'\',\n            lastname: \'\',\n        }\n    },\n    created: function() {\n        this.record = this.ds.record.getRecord(\'test/johndoe\');\n\n        this.record.subscribe(values => {\n            this.firstname = values.firstname;\n            this.lastname = values.lastname;\n        })\n    },\n    methods: {\n        handleFNameUpdate: function() {\n            this.record.set(\'firstname\', this.firstname);\n        },\n        handleLNameUpdate: function() {\n            this.record.set(\'lastname\', this.lastname);\n        }\n    }\n};\n')),(0,r.yg)("p",null,"The ",(0,r.yg)("inlineCode",{parentName:"p"},"ds")," props is the deepstream connection instance which is passed from the parent ",(0,r.yg)("inlineCode",{parentName:"p"},"App")," component to the child ",(0,r.yg)("inlineCode",{parentName:"p"},"Record")," component."),(0,r.yg)("p",null,"The ",(0,r.yg)("inlineCode",{parentName:"p"},"subscribe")," method is used to listen for updates and update the inputs accordingly. The method is called in the ",(0,r.yg)("inlineCode",{parentName:"p"},"created")," lifecycle hook as well so it can be setup once the component is created."),(0,r.yg)("h2",{id:"events-publish-subscribe"},"Events (publish-subscribe)"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"markdown:glossary-event.md")),(0,r.yg)("p",null,"Clients and backend processes can receive events using ",(0,r.yg)("inlineCode",{parentName:"p"},".subscribe()")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},"ds.event.subscribe( 'test-event', function( eventData ){ /*do stuff*/ });\n")),(0,r.yg)("p",null,"... and publish events using ",(0,r.yg)("inlineCode",{parentName:"p"},".emit()")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},"ds.event.emit( 'test-event', {some: 'data'} );\n")),(0,r.yg)("p",null,"A simple example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},'const Events = {\n    template: `\n            <div class="group pubsub">\n                <div class="half left">\n                    <h2>Publish</h2>\n                    <button class="half left" id="send-event" @click="handleClick()">Send test-event with</button>\n                    <input type="text" class="half" id="event-data" v-model="value"/>\n                </div>\n                <div class="half">\n                    <h2>Subscribe</h2>\n                    <ul id="events-received">\n                        <template v-for="event in eventsReceived">\n                            <li> {{event}} </li>\n                        </template>\n                    </ul>\n                </div>\n            </div>\n    `,\n    props: [\'ds\'],\n    data: function() {\n        return {\n            eventsReceived: [],\n            value: \'\',\n        };\n    },\n    created: function() {\n        this.event = this.ds.event;\n        this.event.subscribe(\'test-event\', value => {\n            this.eventsReceived.push(value);\n        });\n    },\n    methods: {\n        handleClick: function() {\n            this.event.emit(\'test-event\', this.value)\n        }\n    }\n};\n')),(0,r.yg)("p",null,"Just like the ",(0,r.yg)("inlineCode",{parentName:"p"},"record")," example, ",(0,r.yg)("inlineCode",{parentName:"p"},"ds")," instance is passed as props and the ",(0,r.yg)("inlineCode",{parentName:"p"},"created")," hook handles the event subscription."),(0,r.yg)("h2",{id:"rpcs-request-response"},"RPCs (request-response)"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"markdown:glossary-rpc.md")),(0,r.yg)("p",null,"You can make a request using ",(0,r.yg)("inlineCode",{parentName:"p"},".make()")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},"ds.rpc.make( 'multiply-numbers', { a: 6, b: 7 }, function( err, result ){\n    //result === 42\n});\n")),(0,r.yg)("p",null,"and answer it using ",(0,r.yg)("inlineCode",{parentName:"p"},".provide()")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},"ds.rpc.provide( 'multiply-numbers', function( data, response ){\n    resp.send( data.a * data.b );\n});\n")),(0,r.yg)("p",null,"For example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},'const RPC = {\n    template: `\n            <div class="group reqres">\n                <div class="half left">\n                    <h2>Request</h2>\n                    <button class="half left" @click="handleClick()">Make multiply request</button>\n                    <div class="half">\n                        <input type="text" v-model="requestValue" class="half left" />\n                        <span class="response half item"> {{displayResponse}} </span>\n                    </div>\n                </div>\n                <div class="half">\n                    <h2>Response</h2>\n                    <div class="half left item">Multiply number with:</div>\n                    <input type="text" class="half" v-model="responseValue" />\n                </div>\n            </div>\n    `,\n    props: [\'ds\'],\n    data: function() {\n        return {\n            responseValue: \'7\',\n            requestValue: \'3\',\n            displayResponse: \'-\'\n        }\n    },\n    created: function() {\n        this.rpc = this.ds.rpc;\n        this.rpc.provide( \'multiply-number\', ( data, response ) => {\n            response.send( data.value * parseFloat(this.responseValue) );\n        });\n    },\n    methods: {\n        handleClick: function() {\n            const data = {\n                value: parseFloat(this.requestValue)\n            };\n\n            this.rpc.make( \'multiply-number\', data, ( err, resp ) => {\n\n                this.displayResponse = resp || err.toString();\n            });\n        }\n    }\n}\n')),(0,r.yg)("p",null,"The button click makes the request and the ",(0,r.yg)("inlineCode",{parentName:"p"},"created")," hook handles the response using the ",(0,r.yg)("inlineCode",{parentName:"p"},"provide")," method."),(0,r.yg)("p",null,"The examples can be assembled together in a parent ",(0,r.yg)("inlineCode",{parentName:"p"},"App")," component:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},"new Vue({\n      el: '#app',\n      components: {\n        'my-record': Record,\n        'my-events': Events,\n        'my-rpc': RPC\n      },\n      data: {\n        ds: null\n      },\n      created: function() {\n          this.ds = new DeepstreamClient('localhost:6020')\n          this.ds.login()\n      }\n})\n")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-html"},'<div id="app">\n    <my-record :ds="ds"></my-record>\n    <my-events :ds="ds"></my-events>\n    <my-rpc :ds="ds"></my-rpc>\n</div>\n')),(0,r.yg)("h2",{id:"where-to-go-next"},"Where to go next?"),(0,r.yg)("p",null,"To learn how to use deepstream with other frontend frameworks head over to the tutorial section. To learn how to use the JavaScript SDK with NodeJS rather than in a browser, head over to the ",(0,r.yg)("a",{parentName:"p",href:"../../getting-started/javascript"},"getting started with NodeJS tutorial"),"."))}c.isMDXComponent=!0},5680:(e,n,t)=>{t.d(n,{xA:()=>d,yg:()=>g});var a=t(6540);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=a.createContext({}),p=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=p(e.components);return a.createElement(o.Provider,{value:n},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,s=e.originalType,o=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=p(t),m=r,g=c["".concat(o,".").concat(m)]||c[m]||u[m]||s;return t?a.createElement(g,i(i({ref:n},d),{},{components:t})):a.createElement(g,i({ref:n},d))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var s=t.length,i=new Array(s);i[0]=m;var l={};for(var o in n)hasOwnProperty.call(n,o)&&(l[o]=n[o]);l.originalType=e,l[c]="string"==typeof e?e:r,i[1]=l;for(var p=2;p<s;p++)i[p]=t[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);