"use strict";(self.webpackChunkdeepstreamio_github_io=self.webpackChunkdeepstreamio_github_io||[]).push([[7985],{1516:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var i=n(8168),o=(n(6540),n(5680));const r={title:"Deepstream Monitoring"},a=void 0,s={unversionedId:"tutorials/plugins/monitoring/monitoring",id:"tutorials/plugins/monitoring/monitoring",title:"Deepstream Monitoring",description:"Deepstream allows you to gather detailed insights into what the server is actually doing. How detailed is really up to you, since you can aggregate data by topic, action or actually go far enough to log each individual subscription name, user, message, anything that goes through the system in one place thus giving complete observability and auditing capabilities.",source:"@site/docs/00-tutorials/60-plugins/60-monitoring/00-monitoring.md",sourceDirName:"00-tutorials/60-plugins/60-monitoring",slug:"/tutorials/plugins/monitoring/monitoring",permalink:"/docs/tutorials/plugins/monitoring/monitoring",editUrl:"https://github.com/deepstreamIO/deepstreamIO.github.io/docs/00-tutorials/60-plugins/60-monitoring/00-monitoring.md",tags:[],version:"current",sidebarPosition:0,frontMatter:{title:"Deepstream Monitoring"},sidebar:"tutorialSidebar",previous:{title:"Vertical Cluster Connector",permalink:"/docs/tutorials/plugins/clusternode/vertical"},next:{title:"HTTP and Log Monitoring",permalink:"/docs/tutorials/plugins/monitoring/http-log-monitoring"}},l=[{value:"Monitoring API",id:"monitoring-api",children:[],level:2}],c={toc:l},g="wrapper";function u(e){let{components:t,...n}=e;return(0,o.yg)(g,(0,i.A)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"Deepstream allows you to gather detailed insights into what the server is actually doing. How detailed is really up to you, since you can aggregate data by topic, action or actually go far enough to log each individual subscription name, user, message, anything that goes through the system in one place thus giving complete observability and auditing capabilities."),(0,o.yg)("p",null,"The monitoring core plugin will be called whenever a message is received, a message is sent, a message is broadcasted to subscriptiors, a client logs in, and the server encounters an error. Based on those core actions, one can monitor and extend the server capabilities in order to build data replication plugins, auditing, more fine grained presence functionality, etc. Using the monitoring plugin it's straightforward to implement an audit log of every user message (event, record, rpc request and data) that goes through the server for compliance purposes."),(0,o.yg)("p",null,"Since version 7.0.4 deepstream allows for multiple monitoring plugins, thus enabling a clear separation of functionalities and capabilities that the plugins can handle. For instance you can set the built-in http monitoring plugin that presents key server metrics alongside a custom plugin that will save every record modification message into a third party database for independent auditing."),(0,o.yg)("h2",{id:"monitoring-api"},"Monitoring API"),(0,o.yg)("p",null,"The default monitoring core has the following methods:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-typescript"},"  public onErrorLog (loglevel: LOG_LEVEL, event: EVENT, logMessage: string): void {\n  }\n\n  public onLogin (allowed: boolean, endpointType: string): void {\n  }\n\n  public onMessageReceived (message: Message, socketData: SocketData): void {\n  }\n\n  public onMessageSend (message: Message): void {\n  }\n\n  public onBroadcast (message: Message, count: number): void {\n  }\n")))}u.isMDXComponent=!0},5680:(e,t,n)=>{n.d(t,{xA:()=>g,yg:()=>m});var i=n(6540);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=i.createContext({}),c=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},g=function(e){var t=c(e.components);return i.createElement(l.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,g=s(e,["components","mdxType","originalType","parentName"]),u=c(n),d=o,m=u["".concat(l,".").concat(d)]||u[d]||p[d]||r;return n?i.createElement(m,a(a({ref:t},g),{},{components:n})):i.createElement(m,a({ref:t},g))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:o,a[1]=s;for(var c=2;c<r;c++)a[c]=n[c];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);